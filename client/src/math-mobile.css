/* Styles spécifiques pour améliorer le rendu des formules mathématiques sur mobile */

/* Augmenter la taille des formules mathématiques sur mobile */
@media (max-width: 640px) {
  .katex {
    font-size: 1.1em !important;
  }
  
  /* Assurer que les fractions sont lisibles */
  .katex .mfrac .frac-line {
    border-bottom-width: 0.08em;
  }
  
  .katex .msupsub .scriptspace {
    margin-right: 0.05em;
  }
  
  /* Ajuster l'espacement vertical pour éviter les chevauchements */
  .katex .mord + .mord {
    margin-left: 0.1em;
  }
  
  /* Adapter les conteneurs pour permettre le défilement horizontal si nécessaire */
  .math-block-container {
    margin: 0.75rem 0;
    padding: 0.5rem;
    background-color: rgba(0, 0, 0, 0.03);
    border-radius: 0.25rem;
    overflow-x: auto;
    max-width: 100%;
  }
  
  /* Mode sombre pour les formules */
  .dark .math-block-container {
    background-color: rgba(255, 255, 255, 0.03);
  }
  
  /* Assurer que le scroll ne coupe pas les formules */
  .math-content {
    overflow-x: auto;
    max-width: 100%;
    scrollbar-width: thin;
  }
  
  /* Masquer complètement la barre de défilement tout en permettant le défilement */
  .math-content::-webkit-scrollbar {
    display: none;
  }
  
  /* Pour Firefox */
  .math-content {
    scrollbar-width: none;
  }
}

/* Ajustements pour les équations en bloc */
.math-block-container {
  display: flex;
  justify-content: center;
  width: 100%;
  background-color: rgba(0, 0, 0, 0.02);
  border-radius: 8px;
  padding: 0.75rem;
  margin: 0.75rem auto;
  position: relative;
  overflow: hidden; /* Cache complètement tout débordement */
}

.dark .math-block-container {
  background-color: rgba(255, 255, 255, 0.02);
}

/* Supprimer les gradients et ombres qui pourraient être ajoutés automatiquement */
.math-block-container::after,
.math-block-container::before {
  display: none !important;
}

/* Style pour les équations inline */
.math-inline-container {
  white-space: nowrap;
  vertical-align: middle;
}