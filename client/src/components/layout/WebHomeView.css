/* Styles optimisés pour WebHomeView
   Ces styles ont été spécialement conçus pour résoudre les problèmes d'espace blanc
   et garantir une expérience utilisateur fluide sur tous les appareils
*/

/* Container principal */
.web-home-container {
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Conteneur de conversation avec un padding au bas pour éviter l'espace blanc */
.web-conversation-container {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  scroll-behavior: smooth;
  padding-bottom: 16px;
  position: relative;
}

/* Sur mobile, optimisations spécifiques du conteneur */
@media (max-width: 768px) {
  .web-conversation-container {
    position: absolute;
    top: 60px; /* Hauteur du header */
    bottom: 140px; /* Espace pour le formulaire */
    left: 0;
    right: 0;
    padding-bottom: 20px;
  }
  
  /* Quand le clavier est ouvert */
  body.keyboard-open .web-conversation-container {
    bottom: 60px; /* Espace réduit */
  }
}

/* Amélioration du positionnement de l'ancre de défilement 
   Ceci est critique pour éviter l'espace blanc entre le dernier message et la zone de saisie
*/
.scroll-anchor {
  height: 1px;
  width: 100%;
  opacity: 0;
  pointer-events: none;
  visibility: visible !important; /* Garantir que l'ancre ne soit jamais cachée */
  margin-bottom: 0;
  padding-bottom: 0;
}

/* Garantir que l'input conserve son positionnement en bas sur mobile */
.web-question-container {
  position: relative;
  z-index: 20;
  padding: 10px;
  background-color: var(--background);
  border-top: 1px solid var(--border);
}

/* Sur mobile */
@media (max-width: 768px) {
  .web-question-container {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 12px;
  }
}

/* Styles des messages pour garantir leur visibilité */
.web-message {
  opacity: 1;
  margin-bottom: 12px;
  position: relative;
  transition: opacity 0.2s ease-in-out;
}

/* Assurer que le conteneur de conversation est toujours visible */
.web-conversation-started .web-conversation-container {
  visibility: visible !important;
}