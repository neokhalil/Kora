/**
 * Styles spécifiques pour les messages avec images sur mobile
 * Composant: mobile-image-message.css - Partie de l'architecture ITCSS
 * 
 * Ce fichier contient les styles spécifiques pour l'affichage des images
 * dans les messages sur les appareils mobiles, en suivant la méthodologie ITCSS.
 */

/* Ces styles s'appliquent uniquement sur les écrans mobiles */
@media screen and (max-width: 768px) {
  /* Container pour le contenu du message, assure une bonne organisation verticale */
  .web-message-content-wrapper {
    display: flex;
    flex-direction: column;
    width: 100%;
    align-items: stretch; /* Assure que les enfants remplissent la largeur */
  }

  /* Conteneur spécifique pour l'image, optimisé pour mobile */
  .web-message-content-wrapper .web-message-image-container {
    display: flex;
    justify-content: center;
    margin-bottom: 12px !important; /* Espace obligatoire sous l'image */
    width: 100% !important; /* Force la largeur complète */
    max-width: 100% !important; /* Garantit que l'image ne dépasse pas */
  }

  /* Style de l'image elle-même, optimisé pour l'affichage mobile */
  .web-message-content-wrapper .web-message-image {
    max-height: 220px !important; /* Hauteur réduite pour mobile */
    border-radius: 8px !important;
    object-fit: contain !important; /* Préserve les proportions de l'image */
    max-width: 100% !important; /* Garantit que l'image ne dépasse pas */
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important; /* Légère ombre pour détacher l'image */
  }

  /* Conteneur du message avec image - s'assure que le contenu est bien aligné */
  .web-message-with-image {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    width: 100%;
  }

  /* Les messages de l'utilisateur avec image ont besoin d'ajustements spécifiques */
  .web-user-message .web-message-content-wrapper .web-message-image-container {
    align-items: flex-end; /* Aligne l'image du côté droit pour les messages utilisateur */
  }

  /* Application d'un style cohérent pour tous les messages Kora sur mobile */
  .web-kora-message .web-message-content {
    background-color: #ffffff !important;
    color: #333333 !important;
    border: none !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
    padding: 12px 16px !important;
    border-radius: 16px 16px 16px 0 !important;
    max-width: 100% !important;
  }

  /* Style uniforme pour les messages utilisateur sur mobile */
  .web-user-message .web-message-content {
    background-color: #f2f2f2 !important;
    color: #333333 !important;
    border: none !important;
    box-shadow: none !important;
    padding: 12px 16px !important;
    border-radius: 16px 16px 0 16px !important;
    max-width: 85% !important;
  }
}

/* Styles spécifiques pour les très petits écrans */
@media screen and (max-width: 480px) {
  .web-message-content-wrapper .web-message-image {
    max-height: 180px !important; /* Hauteur encore plus réduite pour les très petits écrans */
  }
  
  .web-user-message .web-message-content {
    max-width: 90% !important; /* Un peu plus large sur les petits écrans */
  }
}