/**
 * Solution définitive pour le problème du clavier mobile
 * Approche simple qui fonctionne sur iOS et Android
 */

/* Empêcher le redimensionnement automatique dû au clavier */
html, body {
  height: 100%;
  position: fixed;
  overflow: hidden;
  width: 100%;
}

/* Container principal avec scroll */
#app-scroll-container {
  height: 100%;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
  width: 100%;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}

/* Assurer que le header reste fixe en haut */
#kora-header-container {
  position: sticky;
  top: 0;
  left: 0;
  right: 0;
  z-index: 9999;
  background: white;
  padding-top: env(safe-area-inset-top, 0);
  height: calc(56px + env(safe-area-inset-top, 0));
}

/* Contenu principal scrollable */
.chat-content {
  flex: 1;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch;
}

/* Input container fixe en bas */
.chat-input-container {
  position: sticky;
  bottom: 0;
  padding-bottom: env(safe-area-inset-bottom, 0);
  background: white;
  z-index: 9998;
}

/* Focus correct sur les inputs */
input:focus, textarea:focus {
  position: relative;
  z-index: 1;
}

/* Laisser les éléments scrollables gérer leur propre scroll */
.scrollable {
  -webkit-overflow-scrolling: touch;
}

/* Garantir que le corps n'est jamais redimensionné par le système */
@media screen and (max-width: 767px) {
  body {
    position: fixed !important;
    width: 100% !important;
    height: 100% !important;
    overflow: hidden !important;
  }
}