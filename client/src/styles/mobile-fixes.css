/* Correctifs spécifiques pour la version mobile */

/* Style spécial pour les vues mobiles */
.mobile-content-view {
  font-size: 14px !important;
  line-height: 1.4 !important;
  width: 100% !important;
  max-width: 100% !important;
  overflow-wrap: break-word !important;
  word-break: break-word !important;
}

.mobile-content-view .katex-display {
  overflow-x: auto !important;
  max-width: 100% !important;
  padding: 0.5em 0 !important;
}

.mobile-content-view pre {
  white-space: pre-wrap !important;
  word-break: break-word !important;
  max-width: 100% !important;
}

/* Corrections générales pour la mise en page mobile */
@media (max-width: 768px) {
  /* Correctifs pour ChatAssistant */
  .chat-messages-container .prose {
    padding: 0 !important;
    margin: 0 !important;
    width: 100% !important;
  }
  
  /* Empêcher le débordement des éléments mathématiques */
  .katex-display {
    max-width: 100vw !important;
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }
  
  /* Assurer que les blocs de code ne dépassent pas */
  pre {
    max-width: 100% !important;
    overflow-x: auto !important;
    white-space: pre-wrap !important;
  }
  
  /* Correction des espaces vides en haut/bas des messages */
  .chat-messages-container .max-w-3xl {
    margin-top: 0 !important;
    margin-bottom: 0.5rem !important;
  }
  
  /* Ajuster le conteneur de messages */
  .chat-messages-container {
    padding: 0.5rem !important;
  }
  
  /* Régler les problèmes de marge excessive */
  .content-renderer p:first-child {
    margin-top: 0 !important;
  }
  
  .content-renderer p:last-child {
    margin-bottom: 0 !important;
  }
  
  /* S'assurer que le contenu reste lisible sur petit écran */
  .content-renderer {
    font-size: 14px !important;
  }
  
  /* Assurer que les formules ne sont pas tronquées */
  .katex-html {
    max-width: 100%;
    overflow-x: auto;
  }
}

/* Correctifs spécifiques pour iOS */
@supports (-webkit-touch-callout: none) {
  /* Corrections spécifiques à iOS */
  .content-renderer .katex-display {
    padding-left: 0 !important;
    padding-right: 0 !important;
  }
}